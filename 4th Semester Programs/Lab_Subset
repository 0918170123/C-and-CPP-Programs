#include<iostream>
#include<conio.h>
#define MAX 100


using namespace std;

int w[MAX],x[MAX],count=0,d;

void findsubset(int s,int k,int u){
	
	int i;
	x[k]=1;
	if(s+w[k]==d){
		count++;
		cout<<"Subset #"<<count<<" : { ";
		for(i=1;i<=k;i++)
			if(x[i]==1)
				cout<<w[i]<<", ";
		cout<<"\b\b}\n";
	}
	else if(s+w[k]+w[k-1]<=d)
		findsubset(s+w[k],k+1,u-w[k]);
	if(s+u-w[k]>=d){
		x[k]=0;
		findsubset(s,k+1,u-w[k]);
	}
	
}


int main(){
	
	int sum=0,i,n;
	
	cout<<"Enter the value of n : ";
	cin>>n;
	
	cout<<"Enter the elements : ";
	for(i=1;i<=n;i++){
		cin>>w[i];
		x[i]=0;
		sum+=w[i];
	}
	
	cout<<"Ener the value of d : ";
	cin>>d;
	
	if(d>sum)
		cout<<"N Solution exists.\n";
	else{
		findsubset(0,1,sum);
		if(count==0)
			cout<<"N Solution exists.\n";
	}
	
	_getch();
	return 0;
	
}
